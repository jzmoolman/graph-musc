{"ast":null,"code":"\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FailedObserver = exports.CompletedObserver = void 0;\n\nvar CompletedObserver =\n/** @class */\nfunction () {\n  function CompletedObserver() {}\n\n  CompletedObserver.prototype.subscribe = function (observer) {\n    apply(observer, observer.onKeys, []);\n    apply(observer, observer.onCompleted, {});\n  };\n\n  CompletedObserver.prototype.cancel = function () {// do nothing\n  };\n\n  CompletedObserver.prototype.prepareToHandleSingleResponse = function () {// do nothing\n  };\n\n  CompletedObserver.prototype.markCompleted = function () {// do nothing\n  };\n\n  CompletedObserver.prototype.onError = function (error) {\n    // nothing to do, already finished\n    throw Error('CompletedObserver not supposed to call onError');\n  };\n\n  return CompletedObserver;\n}();\n\nexports.CompletedObserver = CompletedObserver;\n\nvar FailedObserver =\n/** @class */\nfunction () {\n  function FailedObserver(_a) {\n    var error = _a.error,\n        onError = _a.onError;\n    this._error = error;\n    this._beforeError = onError;\n    this._observers = [];\n    this.onError(error);\n  }\n\n  FailedObserver.prototype.subscribe = function (observer) {\n    apply(observer, observer.onError, this._error);\n\n    this._observers.push(observer);\n  };\n\n  FailedObserver.prototype.onError = function (error) {\n    var _this = this;\n\n    Promise.resolve(apply(this, this._beforeError, error)).then(function () {\n      return _this._observers.forEach(function (o) {\n        return apply(o, o.onError, error);\n      });\n    });\n  };\n\n  FailedObserver.prototype.cancel = function () {// do nothing\n  };\n\n  FailedObserver.prototype.prepareToHandleSingleResponse = function () {// do nothing\n  };\n\n  FailedObserver.prototype.markCompleted = function () {// do nothing\n  };\n\n  return FailedObserver;\n}();\n\nexports.FailedObserver = FailedObserver;\n\nfunction apply(thisArg, func, param) {\n  if (func) {\n    func.bind(thisArg)(param);\n  }\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","FailedObserver","CompletedObserver","prototype","subscribe","observer","apply","onKeys","onCompleted","cancel","prepareToHandleSingleResponse","markCompleted","onError","error","Error","_a","_error","_beforeError","_observers","push","_this","Promise","resolve","then","forEach","o","thisArg","func","param","bind"],"sources":["/Users/zack/src/gene3/node_modules/neo4j-driver-core/lib/internal/observers.js"],"sourcesContent":["\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FailedObserver = exports.CompletedObserver = void 0;\nvar CompletedObserver = /** @class */ (function () {\n    function CompletedObserver() {\n    }\n    CompletedObserver.prototype.subscribe = function (observer) {\n        apply(observer, observer.onKeys, []);\n        apply(observer, observer.onCompleted, {});\n    };\n    CompletedObserver.prototype.cancel = function () {\n        // do nothing\n    };\n    CompletedObserver.prototype.prepareToHandleSingleResponse = function () {\n        // do nothing\n    };\n    CompletedObserver.prototype.markCompleted = function () {\n        // do nothing\n    };\n    CompletedObserver.prototype.onError = function (error) {\n        // nothing to do, already finished\n        throw Error('CompletedObserver not supposed to call onError');\n    };\n    return CompletedObserver;\n}());\nexports.CompletedObserver = CompletedObserver;\nvar FailedObserver = /** @class */ (function () {\n    function FailedObserver(_a) {\n        var error = _a.error, onError = _a.onError;\n        this._error = error;\n        this._beforeError = onError;\n        this._observers = [];\n        this.onError(error);\n    }\n    FailedObserver.prototype.subscribe = function (observer) {\n        apply(observer, observer.onError, this._error);\n        this._observers.push(observer);\n    };\n    FailedObserver.prototype.onError = function (error) {\n        var _this = this;\n        Promise.resolve(apply(this, this._beforeError, error)).then(function () {\n            return _this._observers.forEach(function (o) { return apply(o, o.onError, error); });\n        });\n    };\n    FailedObserver.prototype.cancel = function () {\n        // do nothing\n    };\n    FailedObserver.prototype.prepareToHandleSingleResponse = function () {\n        // do nothing\n    };\n    FailedObserver.prototype.markCompleted = function () {\n        // do nothing\n    };\n    return FailedObserver;\n}());\nexports.FailedObserver = FailedObserver;\nfunction apply(thisArg, func, param) {\n    if (func) {\n        func.bind(thisArg)(param);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}