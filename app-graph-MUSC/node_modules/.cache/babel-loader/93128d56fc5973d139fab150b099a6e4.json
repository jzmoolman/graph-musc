{"ast":null,"code":"var _jsxFileName = \"/Users/zack/src/_-MUSC/gene-graph-MUSC/src/components/BaseGraph.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext, useEffect, useRef } from 'react';\nimport { Neo4jContext } from 'use-neo4j';\nimport ForceGraph2D from 'react-force-graph-2d';\nimport { useNavigate } from 'react-router-dom';\nimport { paintNode } from '../tools/graphtools';\nimport { defaultGraphScheme } from '../tools/graphtools';\nimport { loadGeneData, loadOrganData, loadDiseaseData, loadSyndromeData } from '../tools/graphdata';\nimport { Box, Card, CardContent, CardHeader } from '@mui/material';\nimport ReactDOM from 'react-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst drawerWidth = 350;\nexport const BaseGraph = _ref => {\n  _s();\n\n  let {\n    drawerOpen,\n    width = 200,\n    height = 300,\n    name,\n    genes,\n    organs,\n    syndromes,\n    diseases,\n    finalVerdict,\n    graphScheme,\n    hover,\n    enableZoom,\n    onClick,\n    onMouseOver,\n    onMouseOut\n  } = _ref;\n  console.log(`enter - ${name}Graph`);\n  const [nodeHover, setNodeHover] = useState(null);\n  const [nodePosition, setNodePosition] = useState({\n    x: 0,\n    y: 0\n  });\n\n  const handleMouseMove = e => {\n    let position = {\n      x: 0,\n      y: 0\n    };\n    position.x = e === null || e === void 0 ? void 0 : e.pageX;\n    position.y = e === null || e === void 0 ? void 0 : e.pageY;\n    setNodePosition(position);\n  };\n\n  const handleNodeHover = (node, previousNode) => {\n    console.log('handleNodeHover', node);\n\n    if (hover && node) {\n      setNodeHover(node);\n    } else {\n      setNodeHover(null);\n    }\n  };\n\n  const handleClick = event => {\n    console.log('onClick');\n    if (onClick) onClick();\n  };\n\n  const handleNodeClick = (node, event) => {\n    console.log('node', node);\n    console.log('evet', event);\n  };\n\n  const navigate = useNavigate();\n\n  const handleNodeTypeClick = nodeType => {\n    navigate(`/graph/${nodeType}`);\n  };\n\n  const getWidth = box => {\n    var _document$getElementB;\n\n    let number = Number((_document$getElementB = document.getElementById(`graph-box${box}`)) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.offsetWidth);\n    console.log('getWidht', number);\n\n    if (typeof number === 'number' && number === number) {\n      console.log('getWidth is a number', number);\n      return number - 12;\n    } else {\n      console.log('getWidth NaN', number);\n      return 200;\n    }\n  };\n\n  const renderHover = () => {\n    //Check if nodeHover is set, if then render card\n    if (nodeHover) {\n      console.log('renderHover', nodeHover);\n      console.log('renderHover', nodePosition);\n\n      if (nodeHover.nodeType === 'gene') {\n        return /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsxDEV(Box, {\n          className: \"nodeCard\",\n          sx: {\n            position: \"absolute\",\n            margin: \"2px 0px 2px 0px\",\n            left: 20,\n            top: 80,\n            width: 250,\n            height: 300\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              border: 1,\n              minWidth: 275,\n              borderColor: 'blue'\n            },\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              title: nodeHover.name,\n              subheader: nodeHover.nodeType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                children: /*#__PURE__*/_jsxDEV(BaseGraph, {\n                  drawerOpen: false,\n                  width: getWidth(1),\n                  height: 300,\n                  name: nodeHover.nodeType,\n                  genes: [nodeHover.name],\n                  organs: [],\n                  syndromes: [],\n                  diseases: [],\n                  finalVerdict: \"Confirmed\",\n                  graphScheme: defaultGraphScheme,\n                  enableZoom: false,\n                  onClick: () => handleNodeTypeClick(nodeHover.nodeType)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }, this), document.body);\n      } else if (nodeHover.nodeType === 'organ') {\n        return /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsxDEV(Box, {\n          className: \"nodeCard\",\n          sx: {\n            position: \"absolute\",\n            margin: \"2px 0px 2px 0px\",\n            left: 20,\n            top: 80,\n            width: 250,\n            height: 300\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              minWidth: 275\n            },\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              title: nodeHover.name,\n              subheader: nodeHover.nodeType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                children: /*#__PURE__*/_jsxDEV(BaseGraph, {\n                  drawerOpen: false,\n                  width: getWidth(1),\n                  height: 300,\n                  name: nodeHover.nodeType,\n                  genes: [],\n                  organs: [nodeHover.name],\n                  syndromes: [],\n                  diseases: [],\n                  finalVerdict: \"Confirmed\",\n                  graphScheme: defaultGraphScheme,\n                  enableZoom: false,\n                  onClick: () => handleNodeTypeClick(nodeHover.nodeType)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), document.body);\n      } else if (nodeHover.nodeType === 'disease') {\n        return /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsxDEV(Box, {\n          className: \"nodeCard\",\n          sx: {\n            position: \"absolute\",\n            margin: \"2px 0px 2px 0px\",\n            left: 20,\n            top: 80,\n            width: 250,\n            height: 300\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              minWidth: 275\n            },\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              title: nodeHover.name,\n              subheader: nodeHover.nodeType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                children: /*#__PURE__*/_jsxDEV(BaseGraph, {\n                  drawerOpen: false,\n                  width: getWidth(1),\n                  height: 300,\n                  name: nodeHover.nodeType,\n                  genes: [],\n                  organs: [],\n                  syndromes: [],\n                  diseases: [nodeHover.name],\n                  finalVerdict: \"Confirmed\",\n                  graphScheme: defaultGraphScheme,\n                  enableZoom: false,\n                  onClick: () => handleNodeTypeClick(nodeHover.nodeType)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this), document.body);\n      } else if (nodeHover.nodeType === 'syndrome') {\n        return /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsxDEV(Box, {\n          className: \"nodeCard\",\n          sx: {\n            position: \"absolute\",\n            margin: \"2px 0px 2px 0px\",\n            left: 20,\n            top: 80,\n            width: 250,\n            height: 300\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              minWidth: 275\n            },\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              title: nodeHover.name,\n              subheader: nodeHover.nodeType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                children: /*#__PURE__*/_jsxDEV(BaseGraph, {\n                  drawerOpen: false,\n                  width: getWidth(1),\n                  height: 300,\n                  name: nodeHover.nodeType,\n                  genes: [],\n                  organs: [],\n                  syndromes: [nodeHover.name],\n                  diseases: [],\n                  finalVerdict: \"Confirmed\",\n                  graphScheme: defaultGraphScheme,\n                  enableZoom: false,\n                  onClick: () => handleNodeTypeClick(nodeHover.nodeType)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }, this), document.body);\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  };\n\n  if (drawerOpen) {\n    width = width - drawerWidth;\n  }\n\n  const context = useContext(Neo4jContext),\n        driver = context.driver;\n  const [data, setData] = useState({\n    nodes: [],\n    links: []\n  });\n  useEffect(() => {\n    console.log('loading data ...');\n\n    const onData = data => {\n      console.log(data);\n      setData(data);\n    };\n\n    console.log('Graph name', name);\n\n    if (name === 'gene') {\n      loadGeneData(driver, genes, organs, finalVerdict, graphScheme, onData);\n    } else if (name === 'organ') {\n      loadOrganData(driver, genes, organs, finalVerdict, graphScheme, onData);\n    } else if (name === 'disease') {\n      loadDiseaseData(driver, diseases, genes, finalVerdict, graphScheme, onData);\n    } else if (name === 'syndrome') {\n      console.log('before');\n      loadSyndromeData(driver, syndromes, organs, finalVerdict, graphScheme, onData);\n      console.log('after');\n    }\n  }, [name, genes, organs, diseases, syndromes, finalVerdict, graphScheme]);\n  const forceRef = useRef();\n\n  let handleEngineStop = () => {\n    if (forceRef.current) {\n      forceRef.current.zoomToFit(400);\n    }\n  };\n\n  if (!graphScheme.fitViewPort) {\n    if (forceRef.current) {}\n  }\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    id: \"graph-box\",\n    sx: {\n      padding: '2px'\n    },\n    onClick: handleClick,\n    onMouseMove: handleMouseMove,\n    onMouseOver: e => {\n      if (onMouseOver) onMouseOver();\n    },\n    onMouseOut: e => {\n      if (onMouseOut) onMouseOut();\n    },\n    children: [renderHover(), /*#__PURE__*/_jsxDEV(ForceGraph2D, {\n      ref: forceRef,\n      width: width,\n      height: height,\n      graphData: data,\n      nodeId: \"name\",\n      nodeColor: \"nodeColor\",\n      nodeLabel: \"name\",\n      linkDirectionalArrowRelPos: 1,\n      linkDirectionalArrowLength: 2,\n      cooldownTicks: 100,\n      onEngineStop: handleEngineStop,\n      nodeVal: graphScheme.nodeVal,\n      nodeRelSize: graphScheme.nodeRelSize,\n      nodeCanvasObjectMode: () => 'after',\n      nodeCanvasObject: paintNode,\n      onNodeHover: handleNodeHover,\n      onNodeClick: handleNodeClick,\n      enableZoomInteraction: enableZoom\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 336,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BaseGraph, \"VxdWtZij7kd/qB6Kc3hdGrsTBus=\", false, function () {\n  return [useNavigate];\n});\n\n_c = BaseGraph;\n\nvar _c;\n\n$RefreshReg$(_c, \"BaseGraph\");","map":{"version":3,"names":["useState","useContext","useEffect","useRef","Neo4jContext","ForceGraph2D","useNavigate","paintNode","defaultGraphScheme","loadGeneData","loadOrganData","loadDiseaseData","loadSyndromeData","Box","Card","CardContent","CardHeader","ReactDOM","drawerWidth","BaseGraph","drawerOpen","width","height","name","genes","organs","syndromes","diseases","finalVerdict","graphScheme","hover","enableZoom","onClick","onMouseOver","onMouseOut","console","log","nodeHover","setNodeHover","nodePosition","setNodePosition","x","y","handleMouseMove","e","position","pageX","pageY","handleNodeHover","node","previousNode","handleClick","event","handleNodeClick","navigate","handleNodeTypeClick","nodeType","getWidth","box","number","Number","document","getElementById","offsetWidth","renderHover","createPortal","margin","left","top","border","minWidth","borderColor","body","context","driver","data","setData","nodes","links","onData","forceRef","handleEngineStop","current","zoomToFit","fitViewPort","padding","nodeVal","nodeRelSize"],"sources":["/Users/zack/src/_-MUSC/gene-graph-MUSC/src/components/BaseGraph.tsx"],"sourcesContent":["\nimport { useState, useContext, useEffect, useRef, MutableRefObject } from 'react'\nimport { Neo4jContext } from 'use-neo4j'\nimport ForceGraph2D, { ForceGraphMethods, NodeObject }  from 'react-force-graph-2d'\nimport { useNavigate } from 'react-router-dom'\nimport { CustomNodeObject, Force2DData, GraphName, GraphScheme, paintNode } from '../tools/graphtools'\nimport { defaultGraphScheme } from '../tools/graphtools';\n\nimport { \n    loadGeneData,\n    loadOrganData,\n    loadDiseaseData,\n    loadSyndromeData\n } from '../tools/graphdata'\nimport { Box, Card, CardContent, CardHeader } from '@mui/material'\nimport ReactDOM from 'react-dom'\nimport { BorderColor } from '@mui/icons-material'\n\n\nconst drawerWidth = 350;\n\ntype BaseGraphProps = {\n    drawerOpen: boolean\n    width: number\n    height: number\n    name: GraphName\n    genes: string[]\n    organs: string[]\n    syndromes: string[]\n    diseases: string[]\n    finalVerdict: string\n    graphScheme: GraphScheme\n    hover?: boolean\n    enableZoom?: boolean\n    onClick?: () => void\n    onMouseOver?: () => void  \n    onMouseOut?: () => void\n}\nexport const BaseGraph = ( { \n    drawerOpen, \n    width=200, \n    height=300, \n    name,  \n    genes, \n    organs, \n    syndromes,\n    diseases,\n    finalVerdict,\n    graphScheme,\n    hover,\n    enableZoom,\n    onClick,\n    onMouseOver,\n    onMouseOut\n} : BaseGraphProps ) => {\n\n    console.log(`enter - ${name}Graph`)\n    \n    const [nodeHover, setNodeHover] = useState<NodeObject|null>(null)\n    const [nodePosition, setNodePosition] = useState<{x:number, y:number}>({x:0 , y:0})\n\n\n    const handleMouseMove: React.MouseEventHandler<HTMLDivElement> = (e)  => {\n        let position: {x: number, y: number} = {x:0, y:0}\n        position.x = e?.pageX\n        position.y = e?.pageY\n        setNodePosition(position)\n    }\n\n    const handleNodeHover = (node: NodeObject | null, previousNode: NodeObject | null ) => {\n        console.log('handleNodeHover', node)\n        if ( hover && node ) {\n            setNodeHover(node)\n        }  else {\n            setNodeHover(null)\n        }  \n    }\n\n    const handleClick:React.MouseEventHandler<HTMLDivElement> = (event) => {\n        console.log('onClick')\n        if (onClick)\n            onClick()\n\n    }\n\n    const handleNodeClick = (node: NodeObject, event: MouseEvent  ) => {\n        console.log('node', node)\n        console.log('evet', event)\n    }\n\n    const navigate = useNavigate()\n\n    const handleNodeTypeClick = (nodeType : string) => {\n        navigate(`/graph/${nodeType}`)\n    }\n\n    const getWidth = (box: number) => {\n        let number = Number(document.getElementById(`graph-box${box}`)?.offsetWidth )\n        console.log('getWidht', number)\n        if ( typeof number === 'number' && number === number) {\n            console.log('getWidth is a number', number)\n            return number-12\n        } else {\n            console.log('getWidth NaN', number)\n            return 200\n        }\n    }\n\n    const renderHover = () => {\n        //Check if nodeHover is set, if then render card\n        if ( nodeHover ) {\n            console.log('renderHover', nodeHover)\n            console.log('renderHover', nodePosition)\n\n            if ((nodeHover as CustomNodeObject).nodeType === 'gene') {\n            return (ReactDOM.createPortal(\n                <Box\n                    className=\"nodeCard\"\n                    sx={{\n                        position: \"absolute\",\n                        margin: \"2px 0px 2px 0px\",\n                        left: 20,\n                        top: 80,\n                        width: 250,\n                        height: 300\n                        \n                    }}\n                >\n                    <Card \n                        sx={{ \n                            border:1,\n                            minWidth:275, \n                            borderColor: 'blue'\n                        }}\n                    >\n                        <CardHeader \n                            title={(nodeHover as CustomNodeObject).name}\n                            subheader={(nodeHover as CustomNodeObject).nodeType}\n\n                        />\n                        <CardContent>\n                            <Box>\n                                <BaseGraph\n                                drawerOpen={false}\n                                width={getWidth(1)}\n                                height={300}\n                                name={((nodeHover as CustomNodeObject).nodeType as GraphName)}\n                                genes={[(nodeHover as CustomNodeObject).name]}\n                                organs={[]}\n                                syndromes={[]}\n                                diseases={[]}\n                                finalVerdict='Confirmed'\n                                graphScheme={defaultGraphScheme}\n                                enableZoom={false}\n                                onClick={() => handleNodeTypeClick((nodeHover as CustomNodeObject).nodeType)}\n                            />\n                            </Box>\n                            </CardContent>\n                        </Card>\n                    </Box>,\n                    document.body\n                ))\n            } else if ((nodeHover as CustomNodeObject).nodeType === 'organ'){\n                return (ReactDOM.createPortal(\n                    <Box\n                        className=\"nodeCard\"\n                        sx={{\n                            position: \"absolute\",\n                            margin: \"2px 0px 2px 0px\",\n                            left: 20,\n                            top: 80,\n                            width: 250,\n                            height: 300\n                        }}\n                    >\n                        <Card sx={{ minWidth:275 }}>\n                            <CardHeader \n                                title={(nodeHover as CustomNodeObject).name}\n                                subheader={(nodeHover as CustomNodeObject).nodeType}\n    \n                            />\n                            <CardContent>\n                            <Box>\n                                <BaseGraph\n                                drawerOpen={false}\n                                width={getWidth(1)}\n                                height={300}\n                                name={((nodeHover as CustomNodeObject).nodeType as GraphName)}\n                                genes={[]}\n                                organs={[(nodeHover as CustomNodeObject).name]}\n                                syndromes={[]}\n                                diseases={[]}\n                                finalVerdict='Confirmed'\n                                graphScheme={defaultGraphScheme}\n                                enableZoom={false}\n                                onClick={() => handleNodeTypeClick((nodeHover as CustomNodeObject).nodeType)}\n                            />\n                            </Box>\n                            </CardContent>\n                        </Card>\n                    </Box>,\n                    document.body\n                ))\n            } else if ((nodeHover as CustomNodeObject).nodeType === 'disease'){\n                return (ReactDOM.createPortal(\n                    <Box\n                        className=\"nodeCard\"\n                        sx={{\n                            position: \"absolute\",\n                            margin: \"2px 0px 2px 0px\",\n                            left: 20,\n                            top: 80,\n                            width: 250,\n                            height: 300\n                        }}\n                    >\n                        <Card sx={{ minWidth:275 }}>\n                            <CardHeader \n                                title={(nodeHover as CustomNodeObject).name}\n                                subheader={(nodeHover as CustomNodeObject).nodeType}\n    \n                            />\n                            <CardContent>\n                            <Box>\n                                <BaseGraph\n                                drawerOpen={false}\n                                width={getWidth(1)}\n                                height={300}\n                                name={((nodeHover as CustomNodeObject).nodeType as GraphName)}\n                                genes={[]}\n                                organs={[]}\n                                syndromes={[]}\n                                diseases={[(nodeHover as CustomNodeObject).name]}\n                                finalVerdict='Confirmed'\n                                graphScheme={defaultGraphScheme}\n                                enableZoom={false}\n                                onClick={() => handleNodeTypeClick((nodeHover as CustomNodeObject).nodeType)}\n                            />\n                            </Box>\n                            </CardContent>\n                        </Card>\n                    </Box>,\n                    document.body\n                ))\n            } else if ((nodeHover as CustomNodeObject).nodeType === 'syndrome'){\n                return (ReactDOM.createPortal(\n                    <Box\n                        className=\"nodeCard\"\n                        sx={{\n                            position: \"absolute\",\n                            margin: \"2px 0px 2px 0px\",\n                            left: 20,\n                            top: 80,\n                            width: 250,\n                            height: 300\n                        }}\n                    >\n                        <Card sx={{ minWidth:275 }}>\n                            <CardHeader \n                                title={(nodeHover as CustomNodeObject).name}\n                                subheader={(nodeHover as CustomNodeObject).nodeType}\n    \n                            />\n                            <CardContent>\n                            <Box>\n                                <BaseGraph\n                                drawerOpen={false}\n                                width={getWidth(1)}\n                                height={300}\n                                name={((nodeHover as CustomNodeObject).nodeType as GraphName)}\n                                genes={[]}\n                                organs={[]}\n                                syndromes={[(nodeHover as CustomNodeObject).name]}\n                                diseases={[]}\n                                finalVerdict='Confirmed'\n                                graphScheme={defaultGraphScheme}\n                                enableZoom={false}\n                                onClick={() => handleNodeTypeClick((nodeHover as CustomNodeObject).nodeType)}\n                            />\n                            </Box>\n                        </CardContent>\n                    </Card>\n                </Box>,\n                document.body\n            ))\n        } \n        \n    }\n        return (<></>)\n\n    }\n\n    if (drawerOpen) {\n        width = width - drawerWidth\n    }\n    \n    const context = useContext(Neo4jContext), driver = context.driver\n    const [data, setData] =  useState<Force2DData>( {nodes: [], links: []} )\n\n    useEffect( () => {\n        console.log('loading data ...')\n        const onData = (data: Force2DData) =>{\n            console.log(data)\n            setData(data)\n        }\n        console.log('Graph name',name)\n\n        if (name === 'gene') {\n          loadGeneData(driver, genes, organs,finalVerdict, graphScheme, onData)\n        } else if (name === 'organ') {\n          loadOrganData(driver, genes, organs, finalVerdict, graphScheme, onData)\n        } else if ( name === 'disease') {\n          loadDiseaseData(driver, diseases, genes, finalVerdict, graphScheme, onData)\n        } else if ( name === 'syndrome') {\n            console.log('before')\n          loadSyndromeData(driver, syndromes, organs, finalVerdict, graphScheme, onData)\n            console.log('after')\n        }\n\n    },[ name, genes, organs, diseases, syndromes, finalVerdict, graphScheme] )\n    \n    const forceRef : MutableRefObject<ForceGraphMethods | undefined> = useRef()      \n\n\n    let handleEngineStop: ()=>void | undefined = () => {\n        if (forceRef.current) {\n            (forceRef.current as ForceGraphMethods).zoomToFit(400);\n        }\n    }\n    \n    if (!graphScheme.fitViewPort) {\n        if (forceRef.current) {}\n    }\n\n    return (\n        <Box id='graph-box' sx={{padding:'2px'}} \n            onClick={handleClick}\n            onMouseMove={handleMouseMove}\n            onMouseOver={(e)=>{\n                if (onMouseOver) \n                    onMouseOver()\n            }}\n            onMouseOut={(e)=>{\n                if (onMouseOut) \n                    onMouseOut()\n            }}\n            \n            \n        >\n            {renderHover()}\n            <ForceGraph2D \n                \n                ref={forceRef}\n                width={width}\n                height={height}\n                graphData={data}\n                nodeId='name'  \n                nodeColor='nodeColor' \n                nodeLabel='name' \n                linkDirectionalArrowRelPos={1} \n                linkDirectionalArrowLength={2} \n                cooldownTicks={100}\n                onEngineStop={handleEngineStop} \n                nodeVal={graphScheme.nodeVal}\n                nodeRelSize={graphScheme.nodeRelSize}\n                nodeCanvasObjectMode={() => 'after'} \n                nodeCanvasObject={paintNode}\n                onNodeHover={handleNodeHover}\n                onNodeClick={handleNodeClick}\n                enableZoomInteraction={enableZoom}\n            />\n            \n        </Box>\n    )\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}