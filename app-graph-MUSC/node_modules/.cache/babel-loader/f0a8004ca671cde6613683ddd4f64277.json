{"ast":null,"code":"import constant from \"./constant.js\";\nexport default function (radius, x, y, z) {\n  var nodes,\n      nDim,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = (node.y || 0) - y || 1e-6,\n          dz = (node.z || 0) - z || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy + dz * dz),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n\n      if (nDim > 1) {\n        node.vy += dy * k;\n      }\n\n      if (nDim > 2) {\n        node.vz += dz * k;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i,\n        n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function (initNodes) {\n    nodes = initNodes;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function (_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function (_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function (_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function (_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  return force;\n}","map":{"version":3,"names":["constant","radius","x","y","z","nodes","nDim","strength","strengths","radiuses","force","alpha","i","n","length","node","dx","dy","dz","r","Math","sqrt","k","vx","vy","vz","initialize","Array","isNaN","initNodes","args","find","arg","includes","_","arguments"],"sources":["/Users/zack/src/gene-graph-MUSC/node_modules/d3-force-3d/src/radial.js"],"sourcesContent":["import constant from \"./constant.js\";\n\nexport default function(radius, x, y, z) {\n  var nodes,\n      nDim,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = (node.y || 0) - y || 1e-6,\n          dz = (node.z || 0) - z || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy + dz * dz),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      if (nDim>1) { node.vy += dy * k; }\n      if (nDim>2) { node.vz += dz * k; }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(initNodes, ...args) {\n    nodes = initNodes;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function(_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  return force;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}