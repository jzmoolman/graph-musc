{"ast":null,"code":"import debounce from 'debounce';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar Prop = /*#__PURE__*/_createClass(function Prop(name, _ref) {\n  var _ref$default = _ref[\"default\"],\n      defaultVal = _ref$default === void 0 ? null : _ref$default,\n      _ref$triggerUpdate = _ref.triggerUpdate,\n      triggerUpdate = _ref$triggerUpdate === void 0 ? true : _ref$triggerUpdate,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function (newVal, state) {} : _ref$onChange;\n\n  _classCallCheck(this, Prop);\n\n  this.name = name;\n  this.defaultVal = defaultVal;\n  this.triggerUpdate = triggerUpdate;\n  this.onChange = onChange;\n});\n\nfunction index(_ref2) {\n  var _ref2$stateInit = _ref2.stateInit,\n      stateInit = _ref2$stateInit === void 0 ? function () {\n    return {};\n  } : _ref2$stateInit,\n      _ref2$props = _ref2.props,\n      rawProps = _ref2$props === void 0 ? {} : _ref2$props,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      _ref2$aliases = _ref2.aliases,\n      aliases = _ref2$aliases === void 0 ? {} : _ref2$aliases,\n      _ref2$init = _ref2.init,\n      initFn = _ref2$init === void 0 ? function () {} : _ref2$init,\n      _ref2$update = _ref2.update,\n      updateFn = _ref2$update === void 0 ? function () {} : _ref2$update; // Parse props into Prop instances\n\n  var props = Object.keys(rawProps).map(function (propName) {\n    return new Prop(propName, rawProps[propName]);\n  });\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}; // Holds component state\n\n    var state = Object.assign({}, stateInit instanceof Function ? stateInit(options) : stateInit, // Support plain objects for backwards compatibility\n    {\n      initialised: false\n    }); // keeps track of which props triggered an update\n\n    var changedProps = {}; // Component constructor\n\n    function comp(nodeElement) {\n      initStatic(nodeElement, options);\n      digest();\n      return comp;\n    }\n\n    var initStatic = function initStatic(nodeElement, options) {\n      initFn.call(comp, nodeElement, state, options);\n      state.initialised = true;\n    };\n\n    var digest = debounce(function () {\n      if (!state.initialised) {\n        return;\n      }\n\n      updateFn.call(comp, state, changedProps);\n      changedProps = {};\n    }, 1); // Getter/setter methods\n\n    props.forEach(function (prop) {\n      comp[prop.name] = getSetProp(prop);\n\n      function getSetProp(_ref3) {\n        var prop = _ref3.name,\n            _ref3$triggerUpdate = _ref3.triggerUpdate,\n            redigest = _ref3$triggerUpdate === void 0 ? false : _ref3$triggerUpdate,\n            _ref3$onChange = _ref3.onChange,\n            onChange = _ref3$onChange === void 0 ? function (newVal, state) {} : _ref3$onChange,\n            _ref3$defaultVal = _ref3.defaultVal,\n            defaultVal = _ref3$defaultVal === void 0 ? null : _ref3$defaultVal;\n        return function (_) {\n          var curVal = state[prop];\n\n          if (!arguments.length) {\n            return curVal;\n          } // Getter mode\n\n\n          var val = _ === undefined ? defaultVal : _; // pick default if value passed is undefined\n\n          state[prop] = val;\n          onChange.call(comp, val, state, curVal); // track changed props\n\n          !changedProps.hasOwnProperty(prop) && (changedProps[prop] = curVal);\n\n          if (redigest) {\n            digest();\n          }\n\n          return comp;\n        };\n      }\n    }); // Other methods\n\n    Object.keys(methods).forEach(function (methodName) {\n      comp[methodName] = function () {\n        var _methods$methodName;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return (_methods$methodName = methods[methodName]).call.apply(_methods$methodName, [comp, state].concat(args));\n      };\n    }); // Link aliases\n\n    Object.entries(aliases).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          alias = _ref5[0],\n          target = _ref5[1];\n\n      return comp[alias] = comp[target];\n    }); // Reset all component props to their default value\n\n    comp.resetProps = function () {\n      props.forEach(function (prop) {\n        comp[prop.name](prop.defaultVal);\n      });\n      return comp;\n    }; //\n\n\n    comp.resetProps(); // Apply all prop defaults\n\n    state._rerender = digest; // Expose digest method\n\n    return comp;\n  };\n}\n\nexport { index as default };","map":{"version":3,"names":["debounce","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","_i","Symbol","iterator","_arr","_n","_d","_s","_e","call","next","done","push","value","err","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","from","test","len","arr2","Prop","_ref","_ref$default","defaultVal","_ref$triggerUpdate","triggerUpdate","_ref$onChange","onChange","newVal","state","index","_ref2","_ref2$stateInit","stateInit","_ref2$props","rawProps","_ref2$methods","methods","_ref2$aliases","aliases","_ref2$init","init","initFn","_ref2$update","update","updateFn","keys","map","propName","options","arguments","undefined","assign","Function","initialised","changedProps","comp","nodeElement","initStatic","digest","forEach","prop","getSetProp","_ref3","_ref3$triggerUpdate","redigest","_ref3$onChange","_ref3$defaultVal","_","curVal","val","hasOwnProperty","methodName","_methods$methodName","_len","args","_key","apply","concat","entries","_ref4","_ref5","alias","resetProps","_rerender","default"],"sources":["/Users/zack/src/gene3/node_modules/kapsule/dist/kapsule.module.js"],"sourcesContent":["import debounce from 'debounce';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar Prop = /*#__PURE__*/_createClass(function Prop(name, _ref) {\n  var _ref$default = _ref[\"default\"],\n      defaultVal = _ref$default === void 0 ? null : _ref$default,\n      _ref$triggerUpdate = _ref.triggerUpdate,\n      triggerUpdate = _ref$triggerUpdate === void 0 ? true : _ref$triggerUpdate,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function (newVal, state) {} : _ref$onChange;\n\n  _classCallCheck(this, Prop);\n\n  this.name = name;\n  this.defaultVal = defaultVal;\n  this.triggerUpdate = triggerUpdate;\n  this.onChange = onChange;\n});\n\nfunction index (_ref2) {\n  var _ref2$stateInit = _ref2.stateInit,\n      stateInit = _ref2$stateInit === void 0 ? function () {\n    return {};\n  } : _ref2$stateInit,\n      _ref2$props = _ref2.props,\n      rawProps = _ref2$props === void 0 ? {} : _ref2$props,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      _ref2$aliases = _ref2.aliases,\n      aliases = _ref2$aliases === void 0 ? {} : _ref2$aliases,\n      _ref2$init = _ref2.init,\n      initFn = _ref2$init === void 0 ? function () {} : _ref2$init,\n      _ref2$update = _ref2.update,\n      updateFn = _ref2$update === void 0 ? function () {} : _ref2$update;\n  // Parse props into Prop instances\n  var props = Object.keys(rawProps).map(function (propName) {\n    return new Prop(propName, rawProps[propName]);\n  });\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // Holds component state\n    var state = Object.assign({}, stateInit instanceof Function ? stateInit(options) : stateInit, // Support plain objects for backwards compatibility\n    {\n      initialised: false\n    }); // keeps track of which props triggered an update\n\n    var changedProps = {}; // Component constructor\n\n    function comp(nodeElement) {\n      initStatic(nodeElement, options);\n      digest();\n      return comp;\n    }\n\n    var initStatic = function initStatic(nodeElement, options) {\n      initFn.call(comp, nodeElement, state, options);\n      state.initialised = true;\n    };\n\n    var digest = debounce(function () {\n      if (!state.initialised) {\n        return;\n      }\n\n      updateFn.call(comp, state, changedProps);\n      changedProps = {};\n    }, 1); // Getter/setter methods\n\n    props.forEach(function (prop) {\n      comp[prop.name] = getSetProp(prop);\n\n      function getSetProp(_ref3) {\n        var prop = _ref3.name,\n            _ref3$triggerUpdate = _ref3.triggerUpdate,\n            redigest = _ref3$triggerUpdate === void 0 ? false : _ref3$triggerUpdate,\n            _ref3$onChange = _ref3.onChange,\n            onChange = _ref3$onChange === void 0 ? function (newVal, state) {} : _ref3$onChange,\n            _ref3$defaultVal = _ref3.defaultVal,\n            defaultVal = _ref3$defaultVal === void 0 ? null : _ref3$defaultVal;\n        return function (_) {\n          var curVal = state[prop];\n\n          if (!arguments.length) {\n            return curVal;\n          } // Getter mode\n\n\n          var val = _ === undefined ? defaultVal : _; // pick default if value passed is undefined\n\n          state[prop] = val;\n          onChange.call(comp, val, state, curVal); // track changed props\n\n          !changedProps.hasOwnProperty(prop) && (changedProps[prop] = curVal);\n\n          if (redigest) {\n            digest();\n          }\n\n          return comp;\n        };\n      }\n    }); // Other methods\n\n    Object.keys(methods).forEach(function (methodName) {\n      comp[methodName] = function () {\n        var _methods$methodName;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return (_methods$methodName = methods[methodName]).call.apply(_methods$methodName, [comp, state].concat(args));\n      };\n    }); // Link aliases\n\n    Object.entries(aliases).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          alias = _ref5[0],\n          target = _ref5[1];\n\n      return comp[alias] = comp[target];\n    }); // Reset all component props to their default value\n\n    comp.resetProps = function () {\n      props.forEach(function (prop) {\n        comp[prop.name](prop.defaultVal);\n      });\n      return comp;\n    }; //\n\n\n    comp.resetProps(); // Apply all prop defaults\n\n    state._rerender = digest; // Expose digest method\n\n    return comp;\n  };\n}\n\nexport { index as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}