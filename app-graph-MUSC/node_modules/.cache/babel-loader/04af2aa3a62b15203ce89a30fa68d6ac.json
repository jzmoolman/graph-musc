{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLazyWriteCypher = exports.useLazyReadCypher = exports.useWriteCypher = exports.useReadCypher = exports.useCypher = void 0;\n\nvar react_1 = require(\"react\");\n\nvar neo4j_driver_1 = __importDefault(require(\"neo4j-driver\"));\n\nvar neo4j_context_1 = require(\"./neo4j.context\");\n\nexports.useCypher = function (defaultAccessMode, cypher, params, database) {\n  var _a = useLazyCypher(defaultAccessMode, cypher, database),\n      run = _a[0],\n      queryState = _a[1];\n\n  react_1.useEffect(function () {\n    run(params, database);\n  }, []);\n  return __assign({\n    run: run\n  }, queryState);\n};\n\nvar createSession = function (driver, database, defaultAccessMode) {\n  if (database !== undefined && database !== '') {\n    return driver.session({\n      database: database,\n      defaultAccessMode: defaultAccessMode\n    });\n  }\n\n  return driver.session({\n    defaultAccessMode: defaultAccessMode\n  });\n};\n\nexports.useReadCypher = function (cypher, params, database) {\n  return exports.useCypher(neo4j_driver_1.default.session.READ, cypher, params, database);\n};\n\nexports.useWriteCypher = function (cypher, params, database) {\n  return exports.useCypher(neo4j_driver_1.default.session.WRITE, cypher, params, database);\n};\n\nexports.useLazyReadCypher = function (cypher, database) {\n  return useLazyCypher(neo4j_driver_1.default.session.READ, cypher, database);\n};\n\nexports.useLazyWriteCypher = function (cypher, database) {\n  return useLazyCypher(neo4j_driver_1.default.session.WRITE, cypher, database);\n};\n\nvar useLazyCypher = function (defaultAccessMode, cypher, defaultDatabase) {\n  var _a = react_1.useContext(neo4j_context_1.Neo4jContext),\n      driver = _a.driver,\n      database = _a.database;\n\n  if (!driver) throw new Error('`driver` not defined in Neo4jContext. Have you added it into your app as <Neo4jProvider driver={{driver}}> ?');\n\n  var _b = react_1.useState({\n    loading: false,\n    database: database,\n    cypher: cypher\n  }),\n      queryState = _b[0],\n      setQueryState = _b[1];\n\n  var run = function (params, anotherDatabase) {\n    var session = createSession(driver, anotherDatabase || defaultDatabase || database, defaultAccessMode);\n    setQueryState({\n      session: session,\n      loading: true,\n      database: anotherDatabase || defaultDatabase || database,\n      cypher: cypher\n    });\n    return session.run(cypher, params).then(function (result) {\n      setQueryState({\n        session: session,\n        cypher: cypher,\n        params: params,\n        database: anotherDatabase || defaultDatabase || database,\n        loading: false,\n        result: result,\n        records: result.records,\n        first: result.records[0]\n      });\n      session.close();\n      return result;\n    }).catch(function (error) {\n      setQueryState({\n        session: session,\n        cypher: cypher,\n        params: params,\n        database: anotherDatabase || defaultDatabase || database,\n        loading: false,\n        error: error\n      });\n      session.close();\n    });\n  };\n\n  return [run, __assign({\n    cypher: cypher,\n    database: database\n  }, queryState)];\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__importDefault","mod","__esModule","defineProperty","exports","value","useLazyWriteCypher","useLazyReadCypher","useWriteCypher","useReadCypher","useCypher","react_1","require","neo4j_driver_1","neo4j_context_1","defaultAccessMode","cypher","params","database","_a","useLazyCypher","run","queryState","useEffect","createSession","driver","undefined","session","default","READ","WRITE","defaultDatabase","useContext","Neo4jContext","Error","_b","useState","loading","setQueryState","anotherDatabase","then","result","records","first","close","catch","error"],"sources":["/Users/zack/src/_-MUSC/gene-graph-MUSC/node_modules/use-neo4j/dist/cypher.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useLazyWriteCypher = exports.useLazyReadCypher = exports.useWriteCypher = exports.useReadCypher = exports.useCypher = void 0;\nvar react_1 = require(\"react\");\nvar neo4j_driver_1 = __importDefault(require(\"neo4j-driver\"));\nvar neo4j_context_1 = require(\"./neo4j.context\");\nexports.useCypher = function (defaultAccessMode, cypher, params, database) {\n    var _a = useLazyCypher(defaultAccessMode, cypher, database), run = _a[0], queryState = _a[1];\n    react_1.useEffect(function () {\n        run(params, database);\n    }, []);\n    return __assign({ run: run }, queryState);\n};\nvar createSession = function (driver, database, defaultAccessMode) {\n    if (database !== undefined && database !== '') {\n        return driver.session({ database: database, defaultAccessMode: defaultAccessMode });\n    }\n    return driver.session({ defaultAccessMode: defaultAccessMode });\n};\nexports.useReadCypher = function (cypher, params, database) { return exports.useCypher(neo4j_driver_1.default.session.READ, cypher, params, database); };\nexports.useWriteCypher = function (cypher, params, database) { return exports.useCypher(neo4j_driver_1.default.session.WRITE, cypher, params, database); };\nexports.useLazyReadCypher = function (cypher, database) { return useLazyCypher(neo4j_driver_1.default.session.READ, cypher, database); };\nexports.useLazyWriteCypher = function (cypher, database) { return useLazyCypher(neo4j_driver_1.default.session.WRITE, cypher, database); };\nvar useLazyCypher = function (defaultAccessMode, cypher, defaultDatabase) {\n    var _a = react_1.useContext(neo4j_context_1.Neo4jContext), driver = _a.driver, database = _a.database;\n    if (!driver)\n        throw new Error('`driver` not defined in Neo4jContext. Have you added it into your app as <Neo4jProvider driver={{driver}}> ?');\n    var _b = react_1.useState({ loading: false, database: database, cypher: cypher }), queryState = _b[0], setQueryState = _b[1];\n    var run = function (params, anotherDatabase) {\n        var session = createSession(driver, anotherDatabase || defaultDatabase || database, defaultAccessMode);\n        setQueryState({ session: session, loading: true, database: anotherDatabase || defaultDatabase || database, cypher: cypher });\n        return session.run(cypher, params)\n            .then(function (result) {\n            setQueryState({\n                session: session,\n                cypher: cypher,\n                params: params,\n                database: anotherDatabase || defaultDatabase || database,\n                loading: false,\n                result: result,\n                records: result.records,\n                first: result.records[0],\n            });\n            session.close();\n            return result;\n        })\n            .catch(function (error) {\n            setQueryState({\n                session: session,\n                cypher: cypher,\n                params: params,\n                database: anotherDatabase || defaultDatabase || database,\n                loading: false,\n                error: error,\n            });\n            session.close();\n        });\n    };\n    return [\n        run,\n        __assign({ cypher: cypher,\n            database: database }, queryState)\n    ];\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}