{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useWriteTransaction = exports.useReadTransaction = exports.useTransaction = void 0;\n\nvar react_1 = require(\"react\");\n\nvar neo4j_driver_1 = __importDefault(require(\"neo4j-driver\"));\n\nvar neo4j_context_1 = require(\"./neo4j.context\");\n\nexports.useTransaction = function (defaultAccessMode, database) {\n  var driver = react_1.useContext(neo4j_context_1.Neo4jContext).driver;\n  if (!driver) throw new Error('`driver` not defined. Have you added it into your app as <Neo4jContext.Provider value={{driver}}> ?');\n  var session = driver.session({\n    database: database,\n    defaultAccessMode: defaultAccessMode\n  });\n  var transaction = session.beginTransaction();\n  return {\n    transaction: transaction,\n    run: transaction.run,\n    commit: transaction.commit,\n    rollback: transaction.commit\n  };\n};\n\nexports.useReadTransaction = function (database) {\n  return exports.useTransaction(neo4j_driver_1.default.session.READ, database);\n};\n\nexports.useWriteTransaction = function (database) {\n  return exports.useTransaction(neo4j_driver_1.default.session.WRITE, database);\n};","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","useWriteTransaction","useReadTransaction","useTransaction","react_1","require","neo4j_driver_1","neo4j_context_1","defaultAccessMode","database","driver","useContext","Neo4jContext","Error","session","transaction","beginTransaction","run","commit","rollback","default","READ","WRITE"],"sources":["/Users/zack/src/gene3/node_modules/use-neo4j/dist/transactions.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useWriteTransaction = exports.useReadTransaction = exports.useTransaction = void 0;\nvar react_1 = require(\"react\");\nvar neo4j_driver_1 = __importDefault(require(\"neo4j-driver\"));\nvar neo4j_context_1 = require(\"./neo4j.context\");\nexports.useTransaction = function (defaultAccessMode, database) {\n    var driver = react_1.useContext(neo4j_context_1.Neo4jContext).driver;\n    if (!driver)\n        throw new Error('`driver` not defined. Have you added it into your app as <Neo4jContext.Provider value={{driver}}> ?');\n    var session = driver.session({ database: database, defaultAccessMode: defaultAccessMode });\n    var transaction = session.beginTransaction();\n    return {\n        transaction: transaction,\n        run: transaction.run,\n        commit: transaction.commit,\n        rollback: transaction.commit,\n    };\n};\nexports.useReadTransaction = function (database) { return exports.useTransaction(neo4j_driver_1.default.session.READ, database); };\nexports.useWriteTransaction = function (database) { return exports.useTransaction(neo4j_driver_1.default.session.WRITE, database); };\n"],"mappings":"AAAA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;IAAE,WAAWA;EAAb,CAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,mBAAR,GAA8BF,OAAO,CAACG,kBAAR,GAA6BH,OAAO,CAACI,cAAR,GAAyB,KAAK,CAAzF;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIC,cAAc,GAAGZ,eAAe,CAACW,OAAO,CAAC,cAAD,CAAR,CAApC;;AACA,IAAIE,eAAe,GAAGF,OAAO,CAAC,iBAAD,CAA7B;;AACAN,OAAO,CAACI,cAAR,GAAyB,UAAUK,iBAAV,EAA6BC,QAA7B,EAAuC;EAC5D,IAAIC,MAAM,GAAGN,OAAO,CAACO,UAAR,CAAmBJ,eAAe,CAACK,YAAnC,EAAiDF,MAA9D;EACA,IAAI,CAACA,MAAL,EACI,MAAM,IAAIG,KAAJ,CAAU,qGAAV,CAAN;EACJ,IAAIC,OAAO,GAAGJ,MAAM,CAACI,OAAP,CAAe;IAAEL,QAAQ,EAAEA,QAAZ;IAAsBD,iBAAiB,EAAEA;EAAzC,CAAf,CAAd;EACA,IAAIO,WAAW,GAAGD,OAAO,CAACE,gBAAR,EAAlB;EACA,OAAO;IACHD,WAAW,EAAEA,WADV;IAEHE,GAAG,EAAEF,WAAW,CAACE,GAFd;IAGHC,MAAM,EAAEH,WAAW,CAACG,MAHjB;IAIHC,QAAQ,EAAEJ,WAAW,CAACG;EAJnB,CAAP;AAMH,CAZD;;AAaAnB,OAAO,CAACG,kBAAR,GAA6B,UAAUO,QAAV,EAAoB;EAAE,OAAOV,OAAO,CAACI,cAAR,CAAuBG,cAAc,CAACc,OAAf,CAAuBN,OAAvB,CAA+BO,IAAtD,EAA4DZ,QAA5D,CAAP;AAA+E,CAAlI;;AACAV,OAAO,CAACE,mBAAR,GAA8B,UAAUQ,QAAV,EAAoB;EAAE,OAAOV,OAAO,CAACI,cAAR,CAAuBG,cAAc,CAACc,OAAf,CAAuBN,OAAvB,CAA+BQ,KAAtD,EAA6Db,QAA7D,CAAP;AAAgF,CAApI"},"metadata":{},"sourceType":"script"}